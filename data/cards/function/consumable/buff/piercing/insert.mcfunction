execute store result score #any var run data get entity @s EnderItems[0].components."minecraft:custom_data".Collection[{id:65}].count
execute unless score #any var matches 1.. run item replace block 0 0 0 container.0 with iron_nugget[custom_data={gui:True},item_name={"color":"green","translate":"card.piercing"}]
execute store result score #count var run data get entity @s EnderItems[1].components."minecraft:custom_data".Collection[{id:65}].count
execute if score #any var matches 1.. if score #count var matches 1.. run item replace block 0 0 0 container.0 with carrot_on_a_stick[lore=[[{"translate":"cost","italic":false,"color":"white"},{"text":" 8","italic":false,"color":"white"}],{"text":"","color":"white","italic":false},{"translate":"card.piercing.lore.0","color":"white","italic":false},{"translate":"card.piercing.lore.1","color":"white","italic":false}],item_name={"color":"green","translate":"card.piercing"}, minecraft:unbreakable={},item_model="cards/piercing",custom_data={gui:True, card:{id:65,category:"consumable",element:"buff",rarity:"common",name:"piercing",cost:8,placement:7}}]
execute if score #any var matches 1.. if score #count var matches 0 run item replace block 0 0 0 container.0 with stick[lore=[[{"translate":"cost","italic":false,"color":"white"},{"text":" 8","italic":false,"color":"white"}],{"text":"","color":"white","italic":false},{"translate":"card.piercing.lore.0","color":"white","italic":false},{"translate":"card.piercing.lore.1","color":"white","italic":false}],item_name={"color":"green","translate":"card.piercing"}, minecraft:unbreakable={},custom_data={gui:True, card:{id:65,category:"consumable",element:"buff",rarity:"common",name:"piercing",cost:8,placement:7}}, item_model='air']
execute if score #any var matches 1.. if score #count var matches 1.. run data modify block 1 1 0 front_text.messages[0] set from block 0 0 0 Items[0].components."minecraft:item_name"
execute if score #any var matches 1.. if score #count var matches 1.. run data modify block 1 1 0 front_text.messages[1] set value [{"text":" (","italic":false,"color":"gray"},{"score":{"name":"#count","objective":"var"},"italic":false,"color":"white"},{"text":")","italic":false,"color":"gray"}]
execute if score #any var matches 1.. if score #count var matches 1.. run data modify block 1 1 0 front_text.messages[2] set value [{"nbt":"front_text.messages[0]","block":"1 1 0","interpret":true},{"nbt":"front_text.messages[1]","block":"1 1 0","interpret":true}]
execute if score #any var matches 1.. if score #count var matches 1.. run data modify block 0 0 0 Items[0].components."minecraft:item_name" set from block 1 1 0 front_text.messages[2]
loot insert ~ ~ ~ mine 0 0 0 minecraft:stone[custom_data={drop_contents:1b}]