execute store result score #any var run data get entity @s EnderItems[0].components."minecraft:custom_data".Collection[{id:1}].count
execute unless score #any var matches 1.. run item replace block 0 0 0 container.0 with iron_nugget[custom_data={gui:True},item_name={"color":"green","translate":"card.cave_spider"}]
execute store result score #count var run data get entity @s EnderItems[1].components."minecraft:custom_data".Collection[{id:1}].count
execute if score #any var matches 1.. if score #count var matches 1.. run item replace block 0 0 0 container.0 with carrot_on_a_stick[lore=[[{"translate":"cost","italic":false,"color":"white"},{"text":" 4","italic":false,"color":"white"},{"text":"        2 ","italic":false,"color":"white"},{"translate":"health","italic":false,"color":"white"}],[{"translate":"attack","italic":false,"color":"white"},{"text":" 1","italic":false,"color":"white"},{"text":"        0 ","italic":false,"color":"white"},{"translate":"armor","italic":false,"color":"white"}],[{"translate":"speed","italic":false,"color":"white"},{"text":" 1","italic":false,"color":"white"},{"text":"        1 ","italic":false,"color":"white"},{"translate":"range","italic":false,"color":"white"}],{"text":"","color":"white","italic":false},{"translate":"card.cave_spider.lore.0","color":"white","italic":false},{"translate":"card.cave_spider.lore.1","color":"white","italic":false}],item_name={"color":"green","translate":"card.cave_spider"}, minecraft:unbreakable={},item_model="cards/cave_spider",custom_data={gui:True, card:{id:1,category:"entity",element:"overworld",rarity:"uncommon",name:"cave_spider",cost:4,placement:10}}]
execute if score #any var matches 1.. if score #count var matches 0 run item replace block 0 0 0 container.0 with stick[lore=[[{"translate":"cost","italic":false,"color":"white"},{"text":" 4","italic":false,"color":"white"},{"text":"        2 ","italic":false,"color":"white"},{"translate":"health","italic":false,"color":"white"}],[{"translate":"attack","italic":false,"color":"white"},{"text":" 1","italic":false,"color":"white"},{"text":"        0 ","italic":false,"color":"white"},{"translate":"armor","italic":false,"color":"white"}],[{"translate":"speed","italic":false,"color":"white"},{"text":" 1","italic":false,"color":"white"},{"text":"        1 ","italic":false,"color":"white"},{"translate":"range","italic":false,"color":"white"}],{"text":"","color":"white","italic":false},{"translate":"card.cave_spider.lore.0","color":"white","italic":false},{"translate":"card.cave_spider.lore.1","color":"white","italic":false}],item_name={"color":"green","translate":"card.cave_spider"}, minecraft:unbreakable={},custom_data={gui:True, card:{id:1,category:"entity",element:"overworld",rarity:"uncommon",name:"cave_spider",cost:4,placement:10}}, item_model='air']
execute if score #any var matches 1.. if score #count var matches 1.. run data modify block 1 1 0 front_text.messages[0] set from block 0 0 0 Items[0].components."minecraft:item_name"
execute if score #any var matches 1.. if score #count var matches 1.. run data modify block 1 1 0 front_text.messages[1] set value [{"text":" (","italic":false,"color":"gray"},{"score":{"name":"#count","objective":"var"},"italic":false,"color":"white"},{"text":")","italic":false,"color":"gray"}]
execute if score #any var matches 1.. if score #count var matches 1.. run data modify block 1 1 0 front_text.messages[2] set value [{"nbt":"front_text.messages[0]","block":"1 1 0","interpret":true},{"nbt":"front_text.messages[1]","block":"1 1 0","interpret":true}]
execute if score #any var matches 1.. if score #count var matches 1.. run data modify block 0 0 0 Items[0].components."minecraft:item_name" set from block 1 1 0 front_text.messages[2]
loot insert ~ ~ ~ mine 0 0 0 minecraft:stone[custom_data={drop_contents:1b}]